<h1 align="center">n8n-cli</h1>
<h3 align="center">The Agent-First CLI for n8n Workflow Automation</h3>

<p align="center">
  <a href="https://www.npmjs.com/package/n8n-cli"><img alt="npm version" src="https://img.shields.io/npm/v/n8n-cli.svg?style=flat-square"></a>
  <a href="#"><img alt="Node.js" src="https://img.shields.io/badge/node-â‰¥18-blue.svg?style=flat-square"></a>
  <a href="#"><img alt="TypeScript" src="https://img.shields.io/badge/TypeScript-5.3-blue.svg?style=flat-square"></a>
  <a href="https://opensource.org/licenses/MIT"><img alt="License" src="https://img.shields.io/badge/License-MIT-green.svg?style=flat-square"></a>
  <a href="#"><img alt="Build Status" src="https://img.shields.io/badge/build-passing-brightgreen.svg?style=flat-square"></a>
</p>

<p align="center">
  <strong>Built for AI agents that create, validate, and deploy n8n workflows programmatically.</strong>
</p>

<p align="center">
  <code>JSON output everywhere</code> Â· <code>Schema-aware validation</code> Â· <code>800+ nodes bundled offline</code>
</p>

<p align="center">
  <strong>15 command groups</strong> Â· <strong>70+ subcommands</strong> Â· <strong>300+ flags</strong>
</p>

---

<p align="center">
  <strong>ğŸ¤– AI-Native</strong> â€” Every command returns structured JSON for machine consumption<br/>
  <strong>âš¡ Offline-First</strong> â€” 800+ nodes bundled locally, no API needed for validation<br/>
  <strong>ğŸ”’ Production-Ready</strong> â€” POSIX exit codes, backups, confirmations, and safety rails<br/>
  <strong>ğŸ“¦ Zero Config</strong> â€” Works immediately with <code>npx n8n-cli</code>
</p>

---

## Table of Contents

### Part 1: Getting Started
- [Why Agent-First?](#why-agent-first)
  - [Key Design Principles](#key-design-principles)
  - [Feature Overview](#feature-overview)
  - [Target Audience](#target-audience)
  - [What Sets This CLI Apart](#what-sets-this-cli-apart)
- [Installation](#installation)
  - [Requirements](#requirements)
  - [Installation Methods](#installation-methods)
  - [Verify Installation](#verify-installation)
- [Quick Start](#quick-start)
  - [For AI Agents](#for-ai-agents)
  - [For Humans](#for-humans)
  - [First 5 Minutes Guide](#first-5-minutes-guide)

### Part 2: Configuration
- [Configuration](#configuration)
  - [Environment Variables](#environment-variables)
  - [Configuration Files](#configuration-files)
  - [Configuration Profiles](#configuration-profiles)
  - [Security Best Practices](#security-best-practices)

### Part 3: Command Reference
- [Quick Command Reference](#quick-command-reference)
  - [Command Groups Overview](#command-groups-overview)
  - [Offline vs API Commands](#offline-vs-api-commands)
  - [Global Options](#global-options)
- [Commands](#commands)
  - [workflows](#workflows)
  - [nodes](#nodes)
  - [credentials](#credentials)
  - [executions](#executions)
  - [variables](#variables)
  - [tags](#tags)
  - [templates](#templates)
  - [audit](#audit)
  - [auth](#auth)
  - [health](#health)
  - [config](#config)
  - [completion](#completion)
  - [validate (legacy)](#validate-legacy)

### Part 4: Advanced Usage
- [AI Agent Integration](#ai-agent-integration)
- [Scripting & Automation](#scripting--automation)
- [CI/CD Integration](#cicd-integration)
- [Cheat Sheet](#cheat-sheet)

### Part 5: Reference & Support
- [Troubleshooting](#troubleshooting)
- [FAQ](#faq)
- [Exit Codes](#exit-codes)
- [Development](#development)
- [See Also](#see-also)
- [License](#license)

---

## Why Agent-First?

This CLI is designed from the ground up for **AI agents** that generate n8n workflows programmatically. Instead of streaming large JSON through tool calls (which causes token limits and hallucinations), agents can leverage a local-first architecture:

### The Agent Development Loop

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         AGENT DEVELOPMENT LOOP                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ 1. GENERATE â”‚â”€â”€â”€â–¶â”‚ 2. WRITE FILE   â”‚â”€â”€â”€â–¶â”‚ 3. VALIDATE LOCALLY      â”‚   â”‚
â”‚   â”‚   Workflow  â”‚    â”‚   workflow.json â”‚    â”‚   n8n workflows validate â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                         â”‚                   â”‚
â”‚                                                         â–¼                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ 6. DEPLOY   â”‚â—€â”€â”€â”€â”‚ 5. ITERATE      â”‚â—€â”€â”€â”€â”‚ 4. GET STRUCTURED ERRORS â”‚   â”‚
â”‚   â”‚   to n8n    â”‚    â”‚   Fix Issues    â”‚    â”‚   with schema hints      â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚   Tight local loop â€¢ No network latency â€¢ Instant validation feedback       â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

1. **Generate** â€” Agent creates workflow JSON based on user requirements
2. **Write** â€” Save workflow to local file: `workflow.json`
3. **Validate** â€” Run `n8n workflows validate workflow.json --json`
4. **Get Errors** â€” Receive structured errors with `correctUsage` showing exact schema
5. **Iterate** â€” Fix issues locally (no network latency, no API rate limits)
6. **Deploy** â€” Once valid: `n8n workflows import workflow.json --json`

### Key Design Principles

| Principle | Implementation | Benefit |
|-----------|----------------|---------|
| **JSON Everywhere** | Every command supports `--json` flag | Machine-readable output for automation |
| **Schema Hints** | Validation errors include `correctUsage` | Agents know exactly what structure to use |
| **Offline First** | 800+ nodes bundled in SQLite database | No API needed for node lookup/validation |
| **POSIX Exit Codes** | Standard exit codes (0, 64, 65, 70, etc.) | Reliable scripting and error handling |
| **Predictable Structure** | `n8n <resource> <action> [options]` | Consistent command patterns |

### Feature Overview

| Feature | Description | Use Case |
|---------|-------------|----------|
| **Workflow Validation** | Schema-aware validation with 4 profiles | Catch errors before deployment |
| **Expression Validation** | Detects missing `=` prefix in `{{ }}` | Fix common AI mistakes |
| **AI Node Validation** | 15+ checks for AI Agent workflows | Validate LLM/tool connections |
| **Node Type Suggestions** | Fuzzy matching for typos | Auto-fix `httprequest` â†’ `n8n-nodes-base.httpRequest` |
| **Autofix Engine** | 8 fix types with confidence levels | Automated issue resolution |
| **Version Management** | Local version history with rollback | Safe iteration on workflows |
| **Diff Operations** | 17 surgical modification types | Update without full replacement |
| **Template Deployment** | One-command template deploy | `n8n workflows deploy-template 3121` |
| **Breaking Changes** | Version migration analysis | Understand upgrade impacts |
| **Offline Node Search** | FTS5 full-text search | Find nodes without API |

### Target Audience

| Audience | Primary Use Case | Key Features |
|----------|------------------|--------------|
| **ğŸ¤– AI Agents** (Primary) | Workflow generation & deployment | JSON output, schema hints, offline validation |
| **ğŸ‘¨â€ğŸ’» DevOps Engineers** | CI/CD pipeline integration | Exit codes, scripting support, bulk operations |
| **âš¡ n8n Power Users** | Advanced workflow management | Version control, diff operations, autofix |
| **ğŸ”§ Automation Builders** | Template-based development | Template search, deploy, customize |

### What Sets This CLI Apart

| Approach | n8n Web UI | Raw API Calls | **n8n-cli** |
|----------|------------|---------------|-------------|
| **Validation** | Runtime only | None | Pre-deployment with hints |
| **Node Lookup** | Requires login | Requires API | 800+ nodes offline |
| **Error Feedback** | Visual in UI | Raw HTTP errors | Structured JSON with fixes |
| **Batch Operations** | Manual one-by-one | Custom scripting | Built-in bulk commands |
| **Version Control** | None | Manual | Automatic versioning |
| **AI Integration** | Not designed for | Token-heavy | Native JSON support |

> **ğŸ’¡ Tip:** For AI agents, start with `n8n nodes search` to discover available nodes, then `n8n nodes show <type> --detail minimal --json` to get token-efficient schemas.

---

## Installation

### Requirements

| Requirement | Minimum Version | Notes |
|-------------|-----------------|-------|
| **Node.js** | 18.0.0 | LTS versions recommended |
| **npm/yarn/pnpm** | Any recent version | Package manager of choice |
| **Operating System** | macOS, Linux, Windows | All platforms supported |

### Installation Methods

#### Option 1: Run Directly with npx (No Installation)

```bash
# Run any command without installing
npx n8n-cli --help
npx n8n-cli nodes search "slack"
npx n8n-cli workflows validate workflow.json --json
```

> **ğŸ’¡ Best for:** Quick testing, CI/CD pipelines, one-off commands

#### Option 2: Global Installation (npm)

```bash
# Install globally
npm install -g n8n-cli

# Verify installation
n8n --version
n8n --help
```

#### Option 3: Global Installation (yarn)

```bash
# Install globally with yarn
yarn global add n8n-cli

# Verify installation
n8n --version
```

#### Option 4: Global Installation (pnpm)

```bash
# Install globally with pnpm
pnpm add -g n8n-cli

# Verify installation
n8n --version
```

#### Option 5: Project-Local Installation

```bash
# Add to project dependencies
npm install --save-dev n8n-cli

# Run via npx in project
npx n8n --help

# Or add to package.json scripts
# "scripts": { "n8n": "n8n-cli" }
```

### Verify Installation

```bash
# Check version
n8n --version
# Output: n8n-cli/x.x.x

# Check available commands
n8n --help

# Test offline functionality (no API needed)
n8n nodes search "http"

# Test connection (requires configuration)
n8n health
```

---

## Quick Start

### For AI Agents

The recommended workflow for AI agents generating n8n workflows:

```bash
# 1. Search for available nodes (offline, no API needed)
n8n nodes search "slack" --json

# 2. Get node schema with minimal tokens (~200 tokens)
n8n nodes show n8n-nodes-base.slack --detail minimal --json

# 3. Get full schema when needed (~3-8K tokens)
n8n nodes show n8n-nodes-base.slack --detail full --json

# 4. Validate generated workflow (returns structured errors)
n8n workflows validate workflow.json --json

# 5. Auto-fix common issues
n8n workflows autofix workflow.json --apply --save fixed.json

# 6. Deploy to n8n instance (requires API configuration)
export N8N_HOST="https://your-n8n.com"
export N8N_API_KEY="your-api-key"
n8n workflows import workflow.json --json
```

**Example JSON Response (Validation Error):**

```json
{
  "valid": false,
  "errors": [{
    "code": "EXPRESSION_MISSING_PREFIX",
    "nodeName": "HTTP Request",
    "path": "nodes[0].parameters.url",
    "context": {
      "value": "{{ $json.endpoint }}",
      "expected": "={{ $json.endpoint }}"
    },
    "hint": "Add '=' prefix to expression",
    "autoFixable": true
  }],
  "warnings": [],
  "stats": { "nodeCount": 5, "connectionCount": 4 }
}
```

### For Humans

Common operations for human users:

```bash
# Check connection to n8n instance
n8n health

# List all workflows
n8n workflows list

# List active workflows only
n8n workflows list --active

# Export a workflow to file
n8n workflows export abc123 -o backup.json

# Validate a workflow file
n8n workflows validate workflow.json

# Validate and auto-fix issues
n8n workflows validate workflow.json --fix --save fixed.json

# Deploy a template from n8n.io in one command
n8n workflows deploy-template 3121 --name "My Chatbot"

# Search for nodes
n8n nodes search "google sheets"

# Get node documentation
n8n nodes show googleSheets --mode docs
```

### First 5 Minutes Guide

**Step 1: Install the CLI**

```bash
npm install -g n8n-cli
```

**Step 2: Configure Connection (for API commands)**

```bash
# Option A: Interactive setup
n8n auth login --interactive

# Option B: Environment variables
export N8N_HOST="https://your-n8n-instance.com"
export N8N_API_KEY="your-api-key-from-n8n-settings"

# Option C: Configuration file
echo 'N8N_HOST=https://your-n8n.com
N8N_API_KEY=your-api-key' > ~/.n8nrc
```

**Step 3: Test the Connection**

```bash
n8n health
# âœ“ Connected to https://your-n8n.com
# âœ“ API version: 1.0
# âœ“ Latency: 45ms
```

**Step 4: Explore Available Nodes (Offline)**

```bash
# Search nodes by keyword
n8n nodes search "slack"

# List by category
n8n nodes list --by-category

# Get node schema
n8n nodes show slack --schema
```

**Step 5: Validate and Deploy a Workflow**

```bash
# Validate locally first
n8n workflows validate my-workflow.json

# Deploy if valid
n8n workflows import my-workflow.json --activate
```

> **âš ï¸ Warning:** API commands (workflows list, credentials, executions, etc.) require `N8N_HOST` and `N8N_API_KEY` to be configured. Offline commands (nodes, validate, autofix) work without any configuration.

---

## Configuration

The CLI supports multiple configuration methods with the following priority order (highest to lowest):

1. **Command-line arguments** â€” `--host`, `--api-key`, `--profile`
2. **Environment variables** â€” `N8N_HOST`, `N8N_API_KEY`
3. **Configuration files** â€” `.n8nrc`, `.n8nrc.json`, etc.

### Environment Variables

| Variable | Required | Default | Description |
|----------|:--------:|---------|-------------|
| `N8N_HOST` | Yes* | â€” | n8n instance URL (e.g., `https://n8n.example.com`) |
| `N8N_URL` | Yes* | â€” | Alternative to `N8N_HOST` (same behavior) |
| `N8N_API_KEY` | Yes* | â€” | API key from n8n Settings â†’ API |
| `N8N_PROFILE` | No | `default` | Configuration profile to use |
| `N8N_TIMEOUT` | No | `30000` | API request timeout in milliseconds |
| `N8N_DB_PATH` | No | (bundled) | Custom path to nodes SQLite database |
| `N8N_DEBUG` | No | `false` | Enable debug logging (`true`/`false`) |
| `DEBUG` | No | â€” | Set to `n8n-cli` for debug output |
| `N8N_STRICT_PERMISSIONS` | No | `false` | Refuse config files with insecure permissions |
| `NO_COLOR` | No | â€” | Disable colored output (any value) |

> **\*** Required for API commands only. Not required for offline commands (nodes, validate, autofix).

**Example Usage:**

```bash
# Inline environment variables
N8N_HOST="https://n8n.example.com" N8N_API_KEY="xxx" n8n workflows list

# Export for session
export N8N_HOST="https://n8n.example.com"
export N8N_API_KEY="your-api-key"
n8n workflows list

# Debug mode
N8N_DEBUG=true n8n workflows validate workflow.json

# Custom timeout (60 seconds)
N8N_TIMEOUT=60000 n8n workflows import large-workflow.json
```

### Configuration Files

The CLI searches for configuration files in these locations (in priority order):

| Priority | Location | Format | Description |
|:--------:|----------|--------|-------------|
| 1 | `.n8nrc` | INI-style | Current directory |
| 2 | `.n8nrc.json` | JSON | Current directory |
| 3 | `~/.n8nrc` | INI-style | Home directory |
| 4 | `~/.n8nrc.json` | JSON | Home directory |
| 5 | `~/.config/n8n/config.json` | JSON | XDG config directory |

**INI-Style Format** (`.n8nrc`):

```ini
# Simple key=value format
N8N_HOST=https://n8n.example.com
N8N_API_KEY=your-api-key
N8N_TIMEOUT=30000
```

**JSON Format** (`.n8nrc.json`):

```json
{
  "host": "https://n8n.example.com",
  "apiKey": "your-api-key",
  "timeout": 30000
}
```

### Configuration Profiles

For multiple environments (production, staging, development), use profiles:

```json
{
  "default": "prod",
  "profiles": {
    "prod": {
      "host": "https://n8n.example.com",
      "apiKey": "prod-api-key-xxx"
    },
    "staging": {
      "host": "https://staging.n8n.example.com",
      "apiKey": "staging-api-key-xxx"
    },
    "dev": {
      "host": "http://localhost:5678",
      "apiKey": "dev-api-key-xxx"
    }
  }
}
```

**Using Profiles:**

```bash
# Command-line flag
n8n workflows list --profile dev

# Environment variable
N8N_PROFILE=staging n8n workflows list

# Default profile is used when not specified
n8n workflows list  # Uses "prod" profile (set as default)
```

### Security Best Practices

| Practice | Recommendation | Example |
|----------|----------------|---------|
| **File Permissions** | Set `600` on config files | `chmod 600 ~/.n8nrc` |
| **API Key Storage** | Use environment variables in CI/CD | `${{ secrets.N8N_API_KEY }}` |
| **No Hardcoding** | Never commit API keys to git | Add `.n8nrc` to `.gitignore` |
| **Credential Files** | Use `@file.json` syntax | `--data @secrets.json` |
| **Strict Mode** | Enable permission checking | `N8N_STRICT_PERMISSIONS=true` |

```bash
# Secure configuration file setup
echo 'N8N_HOST=https://n8n.example.com
N8N_API_KEY=your-api-key' > ~/.n8nrc
chmod 600 ~/.n8nrc
export N8N_STRICT_PERMISSIONS=true
n8n workflows list
```

> **ğŸ’¡ Tip:** For first-time setup, use `n8n auth login --interactive` for guided configuration with connection testing.

---

## Quick Command Reference

### Command Groups Overview

| Command Group | Subcommands | Description | API Required |
|---------------|-------------|-------------|:------------:|
| `auth` | `login`, `status`, `logout` | Manage CLI authentication | âœ— (config only) |
| `health` | â€” | Check n8n instance connectivity | âœ“ |
| `nodes` | `list`, `show`, `get`, `search`, `categories`, `validate`, `breaking-changes` | Search and inspect 800+ bundled nodes | âœ— (offline) |
| `workflows` | `list`, `get`, `validate`, `create`, `import`, `export`, `update`, `autofix`, `diff`, `versions`, `deploy-template`, `activate`, `deactivate`, `delete`, `trigger`, `tags` | Full workflow lifecycle management | Mixed |
| `executions` | `list`, `get`, `retry`, `delete` | View and manage workflow executions | âœ“ |
| `credentials` | `list`, `create`, `delete`, `schema`, `types`, `show-type` | Manage n8n credentials | Mixed |
| `variables` | `list`, `create`, `update`, `delete` | Manage environment variables (Enterprise) | âœ“ |
| `tags` | `list`, `get`, `create`, `update`, `delete` | Organize workflows with tags | âœ“ |
| `templates` | `search`, `get`, `list-tasks` | Search and deploy n8n.io templates | Mixed |
| `audit` | â€” | Generate security audit reports | âœ“ |
| `config` | `show` | View CLI configuration | âœ— |
| `completion` | `<shell>` | Generate shell completions | âœ— |
| `validate` | â€” | Legacy workflow validation | âœ— (offline) |

### Offline vs API Commands

| Offline (No API Needed) | Requires n8n API |
|-------------------------|------------------|
| `nodes *` (all subcommands) | `workflows list/get/create/import/update/delete/activate/deactivate/trigger/tags` |
| `workflows validate` | `executions *` (all subcommands) |
| `workflows autofix` | `credentials list/create/delete/schema` |
| `workflows versions` | `variables *` (all subcommands) |
| `credentials types` | `tags *` (all subcommands) |
| `templates search --local` | `audit` |
| `templates search --by-nodes` | `health` |
| `templates search --by-task` | `health` |
| `templates list-tasks` | â€” |
| `validate` (legacy) | â€” |
| `config show` | â€” |
| `completion` | â€” |

### Global Options

These options are available on **all commands**:

| Option | Short | Description |
|--------|-------|-------------|
| `--version` | `-V` | Output version number and exit |
| `--verbose` | `-v` | Enable verbose/debug output |
| `--quiet` | `-q` | Suppress non-essential output |
| `--no-color` | â€” | Disable colored output |
| `--profile <name>` | â€” | Use specific configuration profile |
| `--help` | `-h` | Display help for command |

**Common Command Options:**

| Option | Description | Available On |
|--------|-------------|--------------|
| `--json` | Output as JSON (machine-readable) | Most commands |
| `--save <path>` | Save output to file | Most commands |
| `--force`, `--yes` | Skip confirmation prompts | Destructive commands |
| `--no-backup` | Skip automatic backup | Update/delete commands |
| `--limit <n>` | Limit number of results | List commands |
| `--cursor <cursor>` | Pagination cursor | List commands |

---

## Commands

---

### `workflows`

Manage n8n workflows â€” the complete lifecycle from creation to deployment, validation, versioning, and more.

The `workflows` command group provides **16 subcommands** covering:
- **CRUD Operations:** create, import, get, export, update, delete
- **Validation & Fixing:** validate, autofix
- **Version Management:** versions (history, rollback, compare)
- **Advanced Operations:** diff (surgical updates), deploy-template
- **State Management:** activate, deactivate, trigger
- **Organization:** tags

#### Command Overview

| Command | Description | API Required |
|---------|-------------|:------------:|
| `list` | List all workflows | âœ“ |
| `get` | Get workflow by ID | âœ“ |
| `validate` | Validate workflow structure | âœ— |
| `create` | Create new workflow | âœ“ |
| `import` | Import from JSON file | âœ“ |
| `export` | Export to JSON file | âœ“ |
| `update` | Update existing workflow | âœ“ |
| `autofix` | Auto-fix validation issues | âœ— |
| `diff` | Apply incremental changes | âœ“ |
| `versions` | Manage version history | âœ— |
| `deploy-template` | Deploy n8n.io template | âœ“ |
| `activate` | Activate workflow(s) | âœ“ |
| `deactivate` | Deactivate workflow(s) | âœ“ |
| `delete` | Delete workflow(s) | âœ“ |
| `trigger` | Trigger via webhook | âœ“ |
| `tags` | Manage workflow tags | âœ“ |

---

#### `workflows list`

List all workflows from your n8n instance with filtering and pagination support.

**Usage:**

```bash
n8n workflows list [options]
```

**Options:**

| Option | Short | Description | Default |
|--------|-------|-------------|---------|
| `--active` | `-a` | Filter active workflows only | â€” |
| `--tags <tags>` | `-t` | Filter by tags (comma-separated) | â€” |
| `--limit <n>` | `-l` | Limit results (0 = all) | `10` |
| `--cursor <cursor>` | â€” | Pagination cursor for next page | â€” |
| `--save <path>` | `-s` | Save output to JSON file | â€” |
| `--json` | â€” | Output as JSON | â€” |

**Examples:**

```bash
# List all workflows (default limit: 10)
n8n workflows list

# List all active workflows
n8n workflows list --active

# List workflows with specific tags
n8n workflows list --tags production,api

# List all workflows (no limit)
n8n workflows list --limit 0

# Get JSON output for scripting
n8n workflows list --json

# Save to file
n8n workflows list --save workflows.json

# Paginate through results
n8n workflows list --cursor "eyJsaW1pdCI6MTAsIm9mZnNldCI6MTB9"
```

**jq Recipes:**

```bash
# Extract workflow IDs and names
n8n workflows list --json | jq '.data[] | {id, name}'

# Count active workflows
n8n workflows list --active --limit 0 --json | jq '.data | length'

# Get workflows updated in last 7 days
n8n workflows list --json | jq '.data[] | select(.updatedAt > (now - 604800 | todate))'
```

---

#### `workflows get`

Get a single workflow by ID with configurable output detail.

**Usage:**

```bash
n8n workflows get <id> [options]
```

**Options:**

| Option | Short | Description | Default |
|--------|-------|-------------|---------|
| `--mode <mode>` | `-m` | Output mode: `full`, `details`, `structure`, `minimal` | `full` |
| `--save <path>` | `-s` | Save output to JSON file | â€” |
| `--json` | â€” | Output as JSON | â€” |

**Output Modes:**

| Mode | Contents | Use Case |
|------|----------|----------|
| `full` | Complete workflow with all fields | Export, backup |
| `details` | Metadata + node list (no parameters) | Quick overview |
| `structure` | Nodes and connections only | Structure analysis |
| `minimal` | ID, name, active status only | Status checks |

**Examples:**

```bash
# Get full workflow
n8n workflows get abc123

# Get minimal info
n8n workflows get abc123 --mode minimal

# Export to file
n8n workflows get abc123 --save workflow-backup.json

# JSON for scripting
n8n workflows get abc123 --json | jq '.nodes | length'
```

---

#### `workflows export`

Export a workflow to JSON file.

**Usage:**

```bash
n8n workflows export <id> [options]
```

**Options:**

| Option | Short | Description | Default |
|--------|-------|-------------|---------|
| `--output <path>` | `-o` | Output file path (stdout if not specified) | â€” |
| `--full` | â€” | Include all fields (don't strip server-generated) | â€” |
| `--json` | â€” | Output as JSON | â€” |

**Examples:**

```bash
# Export to stdout
n8n workflows export abc123

# Export to file
n8n workflows export abc123 -o backup.json

# Export with all server fields
n8n workflows export abc123 --full -o complete-backup.json

# Pipe to another command
n8n workflows export abc123 | jq '.nodes | length'
```

---

#### `workflows validate`

Validate a workflow JSON file or workflow by ID with comprehensive schema-aware validation. This is the **primary validation command** with extensive options for different use cases.

**Usage:**

```bash
n8n workflows validate [idOrFile] [options]
```

**Options:**

| Option | Short | Description | Default |
|--------|-------|-------------|---------|
| `--file <path>` | `-f` | Path to workflow JSON file | â€” |
| `--validation-profile <profile>` | `-P` | Profile: `minimal`, `runtime`, `ai-friendly`, `strict` | `runtime` |
| `--validation-mode <mode>` | `-M` | Mode: `minimal`, `operation`, `full` | `operation` |
| `--repair` | â€” | Attempt to repair malformed JSON | â€” |
| `--fix` | â€” | Auto-fix known issues | â€” |
| `--check-upgrades` | â€” | Check for node version upgrades | â€” |
| `--upgrade-severity <level>` | â€” | Minimum severity: `LOW`, `MEDIUM`, `HIGH` | â€” |
| `--check-versions` | â€” | Check for outdated typeVersions | â€” |
| `--version-severity <level>` | â€” | Version severity: `info`, `warning`, `error` | `warning` |
| `--skip-community-nodes` | â€” | Skip version checks for community nodes | â€” |
| `--validate-expressions` | â€” | Enable expression format validation | `true` |
| `--no-validate-expressions` | â€” | Skip expression format validation | â€” |
| `--save <path>` | `-s` | Save fixed workflow to file | â€” |
| `--json` | â€” | Output as JSON | â€” |

##### Validation Profiles

| Profile | Errors Kept | Warnings Kept | Use Case |
|---------|-------------|---------------|----------|
| `minimal` | Missing required only | Security, deprecated | Fast structure check |
| `runtime` | Critical runtime errors | Security, deprecated | **Default for CLI** |
| `ai-friendly` | All errors | + Best practice, missing common | AI agent workflows |
| `strict` | All errors | All + enforced error handling | Production validation |

##### Validation Modes

| Mode | Scope | Description |
|------|-------|-------------|
| `minimal` | Required + visible | Only required properties currently visible |
| `operation` | Operation-specific | Properties relevant to current resource/operation |
| `full` | All properties | All properties regardless of visibility |

**Examples:**

```bash
# Basic validation (runtime profile, operation mode)
n8n workflows validate workflow.json

# Validate by workflow ID
n8n workflows validate abc123

# Strict validation with full mode (most thorough)
n8n workflows validate workflow.json -P strict -M full

# AI-friendly validation (recommended for LLM workflows)
n8n workflows validate workflow.json --validation-profile ai-friendly

# Minimal validation (structure only)
n8n workflows validate workflow.json -P minimal -M minimal

# Validate and auto-fix issues
n8n workflows validate workflow.json --fix --save fixed.json

# Repair malformed JSON first
n8n workflows validate broken.json --repair

# Check for version upgrades
n8n workflows validate workflow.json --check-upgrades

# JSON output for scripting
n8n workflows validate workflow.json --json
```

##### Expression Format Validation

The CLI validates that n8n expressions have the required `=` prefix. Expressions like `{{ $json.field }}` are detected as errors because they won't be evaluated without the prefix.

```bash
# Validate with expression checking (default)
n8n workflows validate workflow.json

# Skip expression validation (for templates with intentional placeholders)
n8n workflows validate workflow.json --no-validate-expressions
```

**Example Error Output (Expression):**

```json
{
  "valid": false,
  "errors": [{
    "code": "EXPRESSION_MISSING_PREFIX",
    "nodeName": "HTTP Request",
    "path": "nodes[0].parameters.url",
    "context": {
      "value": "{{ $json.endpoint }}",
      "expected": "={{ $json.endpoint }}"
    },
    "hint": "Add '=' prefix: ={{ $json.endpoint }}",
    "autoFixable": true
  }]
}
```

##### Node Type Suggestions

When the CLI detects an unknown or misspelled node type, it provides intelligent suggestions using fuzzy matching:

```json
{
  "valid": false,
  "issues": [{
    "code": "INVALID_NODE_TYPE_FORMAT",
    "message": "Node has invalid type \"httprequest\"",
    "suggestions": [
      {
        "value": "n8n-nodes-base.httpRequest",
        "confidence": 0.95,
        "reason": "Missing package prefix",
        "autoFixable": true
      }
    ],
    "hint": "Did you mean: n8n-nodes-base.httpRequest? (95% match)"
  }]
}
```

##### AI Node Validation

The CLI includes specialized validation for AI Agent workflows, catching common misconfigurations:

| AI Node Type | Validations |
|--------------|-------------|
| **AI Agent** | LLM connection required, fallback model config, output parser, streaming mode, memory limits, tool connections, maxIterations, prompt/systemMessage |
| **Chat Trigger** | Streaming mode requires AI Agent target, agent can't have main outputs in streaming |
| **Basic LLM Chain** | Single LLM required, no fallback support, no tools allowed |
| **AI Tools (12 types)** | HTTP Request, Code, Vector Store, Workflow, MCP Client, Calculator, Think, SerpApi, Wikipedia, SearXNG, WolframAlpha |

**AI Validation Error Codes:**

| Code | Description |
|------|-------------|
| `MISSING_LANGUAGE_MODEL` | AI Agent/Chain requires `ai_languageModel` connection |
| `TOO_MANY_LANGUAGE_MODELS` | Maximum 2 LLMs allowed (for fallback) |
| `FALLBACK_MISSING_SECOND_MODEL` | `needsFallback=true` but only 1 LLM connected |
| `MISSING_OUTPUT_PARSER` | `hasOutputParser=true` but no parser connected |
| `STREAMING_WITH_MAIN_OUTPUT` | Agent in streaming mode can't have main outputs |
| `STREAMING_WRONG_TARGET` | Streaming mode only works with AI Agent |
| `MULTIPLE_MEMORY_CONNECTIONS` | Only 1 memory connection allowed |
| `MISSING_TOOL_DESCRIPTION` | AI tool requires `toolDescription` |
| `MISSING_PROMPT_TEXT` | `promptType="define"` but text is empty |

---

#### `workflows create`

Create a new workflow from a JSON file.

**Usage:**

```bash
n8n workflows create [options]
```

**Options:**

| Option | Short | Description | Default |
|--------|-------|-------------|---------|
| `--file <path>` | `-f` | Path to workflow JSON file | â€” |
| `--name <name>` | `-n` | Override workflow name | â€” |
| `--dry-run` | â€” | Preview without creating | â€” |
| `--skip-validation` | â€” | Skip pre-API validation (not recommended) | â€” |
| `--json` | â€” | Output as JSON | â€” |

**Examples:**

```bash
# Create workflow from file
n8n workflows create -f workflow.json

# Create with custom name
n8n workflows create -f workflow.json --name "My Custom Workflow"

# Preview without creating
n8n workflows create -f workflow.json --dry-run

# JSON output for scripting
n8n workflows create -f workflow.json --json
```

---

#### `workflows import`

Import workflow from JSON file. This is an alias for `create` with slightly different syntax.

**Usage:**

```bash
n8n workflows import <file> [options]
```

**Options:**

| Option | Short | Description | Default |
|--------|-------|-------------|---------|
| `--name <name>` | `-n` | Override workflow name | â€” |
| `--dry-run` | â€” | Preview without creating | â€” |
| `--activate` | â€” | Activate immediately after import | â€” |
| `--skip-validation` | â€” | Skip pre-API validation (not recommended) | â€” |
| `--json` | â€” | Output as JSON | â€” |

**Examples:**

```bash
# Import workflow
n8n workflows import workflow.json

# Import with custom name
n8n workflows import workflow.json --name "Production Workflow"

# Import and activate immediately
n8n workflows import workflow.json --activate

# Preview import
n8n workflows import workflow.json --dry-run
```

---

#### `workflows update`

Update an existing workflow with a new version.

**Usage:**

```bash
n8n workflows update <id> [options]
```

**Options:**

| Option | Short | Description | Default |
|--------|-------|-------------|---------|
| `--file <path>` | `-f` | Path to workflow JSON file | â€” |
| `--operations <json>` | `-o` | Diff operations as JSON | â€” |
| `--name <name>` | `-n` | Update workflow name | â€” |
| `--activate` | â€” | Activate the workflow | â€” |
| `--deactivate` | â€” | Deactivate the workflow | â€” |
| `--skip-validation` | â€” | Skip pre-API validation | â€” |
| `--force`, `--yes` | â€” | Skip confirmation prompts | â€” |
| `--no-backup` | â€” | Skip creating backup | â€” |
| `--json` | â€” | Output as JSON | â€” |

**Examples:**

```bash
# Update workflow from file
n8n workflows update abc123 -f updated-workflow.json

# Update workflow name only
n8n workflows update abc123 --name "Renamed Workflow"

# Activate/deactivate workflow
n8n workflows update abc123 --activate
n8n workflows update abc123 --deactivate

# Update with force (no confirmation)
n8n workflows update abc123 -f workflow.json --force
```

---

#### `workflows activate` / `deactivate`

Bulk activate or deactivate workflows.

**Usage:**

```bash
n8n workflows activate [options]
n8n workflows deactivate [options]
```

**Options:**

| Option | Description | Default |
|--------|-------------|---------|
| `--ids <ids>` | Comma-separated workflow IDs | â€” |
| `--all` | Apply to all workflows | â€” |
| `--force`, `--yes` | Skip confirmation prompt | â€” |
| `--json` | Output as JSON | â€” |

**Examples:**

```bash
# Activate specific workflows
n8n workflows activate --ids abc123,def456,ghi789

# Deactivate all workflows (with confirmation)
n8n workflows deactivate --all

# Force deactivate without confirmation (still creates backup)
n8n workflows deactivate --all --force
```

> **âš ï¸ Warning:** `--all` combined with `--force` will delete all workflows. Use with extreme caution. Backups are saved to `~/.n8n-cli/backups/` unless `--no-backup` is specified.

---

#### `workflows trigger`

Trigger a workflow via its webhook URL.

**Usage:**

```bash
n8n workflows trigger <webhookUrl> [options]
```

**Options:**

| Option | Short | Description | Default |
|--------|-------|-------------|---------|
| `--data <json>` | `-d` | Request body (JSON string or `@file.json`) | `{}` |
| `--method <method>` | `-m` | HTTP method: `GET`, `POST`, `PUT`, `DELETE` | `POST` |
| `--json` | â€” | Output as JSON | â€” |

**Examples:**

```bash
# Trigger with POST (default)
n8n workflows trigger https://n8n.example.com/webhook/abc123

# Trigger with data
n8n workflows trigger https://n8n.example.com/webhook/abc123 \
  --data '{"name": "John", "email": "john@example.com"}'

# Trigger with data from file
n8n workflows trigger https://n8n.example.com/webhook/abc123 \
  --data @payload.json

# Trigger with GET method
n8n workflows trigger https://n8n.example.com/webhook/abc123 --method GET
```

---

#### `workflows tags`

Get or set tags for a workflow.

**Usage:**

```bash
n8n workflows tags <id> [options]
```

**Options:**

| Option | Description | Default |
|--------|-------------|---------|
| `--set <tagIds>` | Set tags (comma-separated tag IDs) | â€” |
| `--force`, `--yes` | Skip confirmation prompt | â€” |
| `--json` | Output as JSON | â€” |

**Examples:**

```bash
# Get current tags
n8n workflows tags abc123

# Set tags (replaces existing)
n8n workflows tags abc123 --set tag1,tag2,tag3

# Force set without confirmation
n8n workflows tags abc123 --set tag1,tag2 --force
```

---

#### `workflows autofix`

Advanced autofix engine with confidence-based filtering for workflow validation issues.

**Usage:**

```bash
n8n workflows autofix <idOrFile> [options]
```

**Options:**

| Option | Description | Default |
|--------|-------------|---------|
| `--preview` | Preview fixes without applying | **(default)** |
| `--apply` | Apply fixes (to file or n8n server) | â€” |
| `--confidence <level>` | Minimum confidence: `high`, `medium`, `low` | `medium` |
| `--fix-types <types>` | Comma-separated fix types to apply | all |
| `--upgrade-versions` | Apply version migration fixes | â€” |
| `--target-version <version>` | Target version for upgrades | Latest |
| `--max-fixes <n>` | Maximum number of fixes | `50` |
| `--save <path>` | Save fixed workflow locally | â€” |
| `--force`, `--yes` | Skip confirmation prompts | â€” |
| `--no-backup` | Skip backup before changes | â€” |
| `--no-guidance` | Suppress post-update guidance | â€” |
| `--json` | Output as JSON | â€” |

##### Fix Types and Confidence Levels

| Fix Type | Confidence | Description |
|----------|------------|-------------|
| `expression-format` | **HIGH** | Add missing `=` prefix to `{{ }}` expressions |
| `node-type-correction` | **HIGH** | Fix typos in node types (when >90% match) |
| `webhook-missing-path` | **HIGH** | Generate UUID paths for webhook nodes |
| `switch-options` | **HIGH** | Fix Switch/If node options and conditions |
| `typeversion-correction` | MEDIUM | Fix version exceeding max supported |
| `error-output-config` | MEDIUM | Remove invalid `onError` settings |
| `typeversion-upgrade` | MEDIUM | Suggest version upgrades |
| `version-migration` | LOW | Breaking change migration hints |

**Examples:**

```bash
# Preview all fixes (default mode)
n8n workflows autofix abc123

# Preview from local file
n8n workflows autofix workflow.json

# Apply only high-confidence fixes
n8n workflows autofix abc123 --apply --confidence high

# Filter to specific fix types
n8n workflows autofix abc123 --fix-types expression-format,webhook-missing-path

# Apply version migration fixes
n8n workflows autofix workflow.json --upgrade-versions --apply

# Save fixed workflow locally
n8n workflows autofix workflow.json --apply --save fixed.json

# Apply with JSON output for scripting
n8n workflows autofix abc123 --apply --force --json

# Apply fixes without guidance display
n8n workflows autofix abc123 --apply --no-guidance
```

---

#### `workflows versions`

Manage workflow version history, rollback, and cleanup. Versions are created automatically when you update or autofix workflows, stored locally in `~/.n8n-cli/data.db`.

**Usage:**

```bash
n8n workflows versions [id] [options]
```

**Options:**

| Option | Description | Default |
|--------|-------------|---------|
| `--limit <n>` | Limit version history results | `10` |
| `--get <version-id>` | Get specific version details | â€” |
| `--rollback` | Rollback to previous version | â€” |
| `--to-version <id>` | Specific version ID for rollback | â€” |
| `--skip-validation` | Skip validation before rollback | â€” |
| `--compare <v1,v2>` | Compare two versions (comma-separated) | â€” |
| `--delete <version-id>` | Delete specific version | â€” |
| `--delete-all` | Delete all versions for workflow | â€” |
| `--prune` | Prune old versions | â€” |
| `--keep <n>` | Keep N most recent (with `--prune`) | `5` |
| `--stats` | Show storage statistics (no ID required) | â€” |
| `--truncate-all` | Delete ALL versions for ALL workflows | â€” |
| `--force`, `--yes` | Skip confirmation prompts | â€” |
| `--no-backup` | Skip backup before rollback | â€” |
| `--save <path>` | Save version snapshot to JSON file | â€” |
| `--json` | Output as JSON | â€” |

**Note:** Auto-pruning keeps max 10 versions per workflow automatically.

**Examples:**

```bash
# List version history
n8n workflows versions abc123

# View storage statistics (global)
n8n workflows versions --stats

# Get specific version details
n8n workflows versions abc123 --get 42

# Save version to file
n8n workflows versions abc123 --get 42 --save version.json

# Rollback to previous version
n8n workflows versions abc123 --rollback

# Rollback to specific version
n8n workflows versions abc123 --rollback --to-version 42

# Compare two versions
n8n workflows versions abc123 --compare 41,42

# Prune old versions (keep 5 most recent)
n8n workflows versions abc123 --prune --keep 5

# Delete specific version
n8n workflows versions abc123 --delete 42

# Delete all versions for workflow
n8n workflows versions abc123 --delete-all --force
```

---

#### `workflows diff`

Apply incremental diff operations to a workflow. Enables surgical modifications without full replacement.

**Usage:**

```bash
n8n workflows diff <id> [options]
```

**Options:**

| Option | Short | Description | Default |
|--------|-------|-------------|---------|
| `--operations <json>` | `-o` | Diff operations (JSON string or `@file.json`) | â€” |
| `--file <path>` | `-f` | Path to operations JSON file | â€” |
| `--dry-run` | â€” | Validate without applying changes | `false` |
| `--continue-on-error` | â€” | Apply valid operations, report failures | `false` |
| `--skip-validation` | â€” | Skip pre-API validation | â€” |
| `--force`, `--yes` | â€” | Skip confirmation prompts | â€” |
| `--no-backup` | â€” | Skip backup before changes | â€” |
| `--save <path>` | `-s` | Save result workflow to file | â€” |
| `--json` | â€” | Output as JSON | â€” |

##### Supported Operations (17 types)

**Node Operations:**
- `addNode` â€” Add a new node
- `removeNode` â€” Remove node and its connections
- `updateNode` â€” Update node parameters
- `moveNode` â€” Change node position
- `enableNode` â€” Enable a disabled node
- `disableNode` â€” Disable a node

**Connection Operations:**
- `addConnection` â€” Add connection between nodes
- `removeConnection` â€” Remove a connection
- `rewireConnection` â€” Change connection target
- `cleanStaleConnections` â€” Remove orphaned connections
- `replaceConnections` â€” Replace all connections

**Metadata Operations:**
- `updateSettings` â€” Update workflow settings
- `updateName` â€” Rename workflow
- `addTag` â€” Add tag to workflow
- `removeTag` â€” Remove tag from workflow

**Activation Operations:**
- `activateWorkflow` â€” Activate the workflow
- `deactivateWorkflow` â€” Deactivate the workflow

**Example Operations JSON:**

```json
{
  "operations": [
    {
      "type": "addNode",
      "node": {
        "name": "HTTP Request",
        "type": "n8n-nodes-base.httpRequest",
        "position": [400, 300],
        "parameters": { "url": "https://api.example.com" }
      }
    },
    {
      "type": "updateNode",
      "nodeName": "Slack",
      "updates": { "parameters.channel": "#alerts" }
    },
    {
      "type": "addConnection",
      "source": "IF",
      "target": "Success Handler",
      "branch": "true"
    },
    {
      "type": "removeNode",
      "nodeName": "Unused Node"
    }
  ]
}
```

**Examples:**

```bash
# Apply diff operations from JSON string
n8n workflows diff abc123 -o '{"operations":[{"type":"updateNode","nodeName":"Slack","updates":{"parameters.channel":"#alerts"}}]}'

# Apply diff operations from file
n8n workflows diff abc123 -f operations.json

# Dry-run to validate operations
n8n workflows diff abc123 -f operations.json --dry-run

# Apply with continue-on-error
n8n workflows diff abc123 -f operations.json --continue-on-error

# Save result without pushing to server
n8n workflows diff abc123 -f operations.json --save result.json
```

---

#### `workflows deploy-template`

Deploy a workflow template from n8n.io directly to your n8n instance.

**Usage:**

```bash
n8n workflows deploy-template <templateId> [options]
```

**Options:**

| Option | Short | Description | Default |
|--------|-------|-------------|---------|
| `--name <name>` | `-n` | Custom workflow name | Template name |
| `--no-autofix` | â€” | Skip auto-fix (expression format, etc.) | â€” |
| `--keep-credentials` | â€” | Preserve credential references | â€” |
| `--dry-run` | â€” | Preview without creating | â€” |
| `--save <path>` | `-s` | Save locally instead of deploying | â€” |
| `--json` | â€” | Output as JSON | â€” |

**Features:**
- Fetches templates from n8n.io public API
- Auto-fixes expression format issues (`{{}}` â†’ `={{}}`)
- Auto-fixes Switch v3+ rule conditions
- Extracts and displays required credentials before stripping
- Creates workflows as inactive (safe default)
- Supports dry-run, save, JSON output modes

**Examples:**

```bash
# Deploy template (shows required credentials)
n8n workflows deploy-template 3121

# Deploy with custom name
n8n workflows deploy-template 3121 --name "My Custom Chatbot"

# Preview without deploying
n8n workflows deploy-template 3121 --dry-run

# Save locally instead of deploying
n8n workflows deploy-template 3121 --save chatbot-template.json

# Deploy without autofix
n8n workflows deploy-template 3121 --no-autofix

# Keep credential references (useful for debugging)
n8n workflows deploy-template 3121 --keep-credentials
```

**Finding Templates:**

Use `templates search` to discover templates before deploying:

```bash
# Search by keyword
n8n templates search "chatbot"

# Search by nodes used
n8n templates search --by-nodes openAi,slack

# Search by task category
n8n templates search --by-task ai_automation

# Get template details
n8n templates get 3121
```

---

### `nodes`

Search, browse, and inspect n8n's **800+ bundled nodes** entirely offline. All node metadata is stored in a local SQLite database â€” no API connection required.

#### Command Overview

| Command | Description | API Required |
|---------|-------------|:------------:|
| `list` | List all available nodes | âœ— |
| `search` | Search nodes by keyword | âœ— |
| `show` | Get detailed node information | âœ— |
| `get` | Alias for `show` | âœ— |
| `categories` | List node categories | âœ— |
| `validate` | Validate node configuration | âœ— |
| `breaking-changes` | Analyze version breaking changes | âœ— |

---

#### `nodes list`

List all available nodes with filtering and grouping options.

**Usage:**

```bash
n8n nodes list [options]
```

**Options:**

| Option | Short | Description | Default |
|--------|-------|-------------|---------|
| `--by-category` | â€” | Group nodes by category | â€” |
| `--category <name>` | `-c` | Filter by specific category | â€” |
| `--compact` | â€” | Compact output (name only) | â€” |
| `--limit <n>` | `-l` | Limit results | â€” |
| `--save <path>` | `-s` | Save output to file | â€” |
| `--json` | â€” | Output as JSON | â€” |

**Examples:**

```bash
# List all nodes
n8n nodes list

# List all nodes in a category
n8n nodes list --category "Marketing & Content"

# Compact list (names only)
n8n nodes list --compact

# JSON output for scripting
n8n nodes list --json | jq '.nodes | length'
```

---

#### `nodes search`

Search nodes by keyword with multiple search modes and FTS5 full-text search support.

**Usage:**

```bash
n8n nodes search <query> [options]
```

**Options:**

| Option | Short | Description | Default |
|--------|-------|-------------|---------|
| `--mode <mode>` | `-m` | Search mode: `OR`, `AND`, `FUZZY` | `OR` |
| `--category <name>` | `-c` | Filter by category | â€” |
| `--limit <n>` | `-l` | Limit results | `20` |
| `--save <path>` | `-s` | Save output to file | â€” |
| `--json` | â€” | Output as JSON | â€” |

**Search Modes:**

| Mode | Description | Use Case |
|------|-------------|----------|
| `OR` | Match any keyword | Broad search, discovering options |
| `AND` | Match all keywords | Precise multi-term search |
| `FUZZY` | Levenshtein distance matching | Typo-tolerant search |

**Examples:**

```bash
# Basic search (OR mode)
n8n nodes search "slack"

# Multi-word search (all must match)
n8n nodes search "http request" --mode AND

# Fuzzy search for typos
n8n nodes search "slak" --mode FUZZY

# Search within category
n8n nodes search "google" --category "Marketing & Content"

# JSON output
n8n nodes search "email" --json
```

---

#### `nodes show`

Get detailed information about a specific node type.

**Usage:**

```bash
n8n nodes show <nodeType> [options]
```

**Options:**

| Option | Short | Description | Default |
|--------|-------|-------------|---------|
| `--detail <level>` | `-d` | Detail level: `minimal`, `full` | `full` |
| `--mode <mode>` | `-m` | Output mode: `full`, `schema`, `properties`, `credentials`, `examples`, `docs` | â€” |
| `--resource <name>` | `-r` | Filter by resource | â€” |
| `--operation <name>` | `-o` | Filter by operation | â€” |
| `--version <n>` | `-v` | Specific typeVersion | Latest |
| `--schema` | â€” | Output JSON schema | â€” |
| `--properties` | â€” | Output properties only | â€” |
| `--credentials` | â€” | Output credential requirements | â€” |
| `--examples` | â€” | Show usage examples | â€” |
| `--save <path>` | `-s` | Save output to file | â€” |
| `--json` | â€” | Output as JSON | â€” |

**Detail Levels:**

| Level | Token Count | Use Case |
|-------|-------------|----------|
| `minimal` | ~200 tokens | Quick lookup, AI context efficiency |
| `full` | ~3-8K tokens | Complete schema for workflow generation |

**Examples:**

```bash
# Get full node info
n8n nodes show n8n-nodes-base.slack

# Get minimal info (token-efficient)
n8n nodes show slack --detail minimal

# Get JSON schema
n8n nodes show httpRequest --schema

# Get specific operation
n8n nodes show googleSheets --resource sheet --operation append

# Get credential requirements
n8n nodes show github --credentials

# Human-readable docs
n8n nodes show slack --mode docs

# JSON output for AI agents
n8n nodes show slack --detail minimal --json
```

---

#### `nodes get`

Alias for `nodes show` with commonly used subset of options.

**Usage:**

```bash
n8n nodes get <nodeType> [options]
```

**Examples:**

```bash
# Get node info
n8n nodes get slack

# Get with JSON output
n8n nodes get httpRequest --json
```

> **ğŸ’¡ Tip:** Use `nodes show` for full feature access including all output modes and filters.

---

#### `nodes categories`

List all node categories.

**Usage:**

```bash
n8n nodes categories [options]
```

**Options:**

| Option | Description | Default |
|--------|-------------|---------|
| `--with-counts` | Include node count per category | â€” |
| `--json` | Output as JSON | â€” |

**Examples:**

```bash
# List categories
n8n nodes categories

# With node counts
n8n nodes categories --with-counts

# JSON output
n8n nodes categories --json
```

---

#### `nodes validate`

Validate node-specific configurations in a workflow.

**Usage:**

```bash
n8n nodes validate <file> [options]
```

**Options:**

| Option | Description | Default |
|--------|-------------|---------|
| `--node-name <name>` | Validate specific node only | â€” |
| `--node-type <type>` | Filter by node type | â€” |
| `--json` | Output as JSON | â€” |

**Examples:**

```bash
# Validate all nodes in workflow
n8n nodes validate workflow.json

# Validate specific node
n8n nodes validate workflow.json --node-name "Slack"
```

---

#### `nodes breaking-changes`

Analyze breaking changes between node versions.

**Usage:**

```bash
n8n nodes breaking-changes <nodeType> [options]
```

**Options:**

| Option | Description | Default |
|--------|-------------|---------|
| `--from <version>` | Starting version | â€” |
| `--to <version>` | Target version | Latest |
| `--severity <level>` | Min severity: `LOW`, `MEDIUM`, `HIGH` | â€” |
| `--json` | Output as JSON | â€” |

**Examples:**

```bash
# Check all breaking changes
n8n nodes breaking-changes n8n-nodes-base.switch

# Check specific version range
n8n nodes breaking-changes n8n-nodes-base.switch --from 2 --to 3

# Filter by severity
n8n nodes breaking-changes n8n-nodes-base.if --severity HIGH
```

---

### `credentials`

Manage n8n credentials for workflow authentication.

#### Command Overview

| Command | Description | API Required |
|---------|-------------|:------------:|
| `list` | List all credentials | âœ“ |
| `create` | Create new credential | âœ“ |
| `delete` | Delete credential | âœ“ |
| `schema` | Get credential schema | âœ“ |
| `types` | List credential types | âœ— |

---

#### `credentials list`

List all credentials in your n8n instance.

**Usage:**

```bash
n8n credentials list [options]
```

**Options:**

| Option | Description | Default |
|--------|-------------|---------|
| `--limit <n>` | Limit results | `20` |
| `--save <path>` | Save output to file | â€” |
| `--json` | Output as JSON | â€” |

**Examples:**

```bash
n8n credentials list
n8n credentials list --json
```

---

#### `credentials create`

Create a new credential.

**Usage:**

```bash
n8n credentials create [options]
```

**Options:**

| Option | Short | Description | Default |
|--------|-------|-------------|---------|
| `--type <type>` | `-t` | Credential type (required) | â€” |
| `--name <name>` | `-n` | Credential name (required) | â€” |
| `--data <json>` | `-d` | Credential data (JSON or `@file.json`) | â€” |
| `--json` | â€” | Output as JSON | â€” |

> **ğŸ’¡ Security Tip:** Use `@file.json` syntax to avoid exposing secrets in shell history. Set `chmod 600` on credential files.

**Examples:**

```bash
# Create from inline JSON (not recommended)
n8n credentials create -t githubApi -n "GitHub" -d '{"accessToken":"xxx"}'

# Create from file (recommended)
n8n credentials create -t slackApi -n "Slack Bot" -d @slack-creds.json
```

---

#### `credentials delete`

Delete a credential.

**Usage:**

```bash
n8n credentials delete <id> [options]
```

**Options:**

| Option | Description | Default |
|--------|-------------|---------|
| `--force`, `--yes` | Skip confirmation | â€” |
| `--json` | Output as JSON | â€” |

---

#### `credentials schema`

Get the JSON schema for a credential type. Alias: `show-type`.

**Usage:**

```bash
n8n credentials schema <type> [options]
```

**Examples:**

```bash
n8n credentials schema githubApi
n8n credentials schema slackApi --json
```

---

#### `credentials types`

List available credential types (offline).

**Usage:**

```bash
n8n credentials types [options]
```

**Options:**

| Option | Description | Default |
|--------|-------------|---------|
| `--by-auth` | Group by auth type | â€” |
| `--search <query>` | Search by name | â€” |
| `--limit <n>` | Limit results | â€” |
| `--json` | Output as JSON | â€” |

**Examples:**

```bash
n8n credentials types
n8n credentials types --by-auth
n8n credentials types --search oauth
```

---

### `executions`

View and manage workflow execution history.

#### Command Overview

| Command | Description | API Required |
|---------|-------------|:------------:|
| `list` | List executions | âœ“ |
| `get` | Get execution details | âœ“ |
| `retry` | Retry failed execution | âœ“ |
| `delete` | Delete execution | âœ“ |

---

#### `executions list`

List workflow executions with filtering.

**Usage:**

```bash
n8n executions list [options]
```

**Options:**

| Option | Short | Description | Default |
|--------|-------|-------------|---------|
| `--workflow <id>` | `-w` | Filter by workflow ID | â€” |
| `--status <status>` | â€” | Filter: `success`, `error`, `waiting`, `running` | â€” |
| `--limit <n>` | `-l` | Limit results | `20` |
| `--cursor <cursor>` | â€” | Pagination cursor | â€” |
| `--save <path>` | `-s` | Save output to file | â€” |
| `--json` | â€” | Output as JSON | â€” |

**Examples:**

```bash
n8n executions list
n8n executions list --workflow abc123
n8n executions list --status error --limit 50
n8n executions list --json | jq '.data[] | select(.status == "error")'
```

---

#### `executions get`

Get detailed execution information.

**Usage:**

```bash
n8n executions get <id> [options]
```

**Options:**

| Option | Short | Description | Default |
|--------|-------|-------------|---------|
| `--mode <mode>` | `-m` | Output: `preview`, `summary`, `filtered`, `full` | `preview` |
| `--save <path>` | `-s` | Save output to file | â€” |
| `--json` | â€” | Output as JSON | â€” |

**Output Modes:**

| Mode | Contents |
|------|----------|
| `preview` | Status + first/last node results |
| `summary` | All nodes, truncated data |
| `filtered` | Specific nodes only |
| `full` | Complete execution data (can be large) |

**Examples:**

```bash
n8n executions get exec123
n8n executions get exec123 --mode full --save execution.json
```

---

#### `executions retry`

Retry a failed execution.

**Usage:**

```bash
n8n executions retry <id> [options]
```

**Options:**

| Option | Description | Default |
|--------|-------------|---------|
| `--load-latest` | Use latest workflow version | â€” |
| `--json` | Output as JSON | â€” |

---

#### `executions delete`

Delete an execution.

**Usage:**

```bash
n8n executions delete <id> [options]
```

**Options:**

| Option | Description | Default |
|--------|-------------|---------|
| `--force`, `--yes` | Skip confirmation | â€” |
| `--json` | Output as JSON | â€” |

---

### `variables`

Manage n8n environment variables (Enterprise/Pro feature).

Variables are accessed in workflows using `{{ $vars.VARIABLE_KEY }}` syntax.

#### Commands

| Command | Description |
|---------|-------------|
| `list` | List all variables |
| `create` | Create variable |
| `update` | Update variable |
| `delete` | Delete variable |

**Examples:**

```bash
# List variables
n8n variables list

# Create variable
n8n variables create --key API_URL --value "https://api.example.com"

# Update variable
n8n variables update --key API_URL --value "https://new-api.example.com"

# Delete variable
n8n variables delete --key API_URL --force
```

---

### `tags`

Organize workflows with tags.

#### Commands

| Command | Description |
|---------|-------------|
| `list` | List all tags |
| `get` | Get tag details |
| `create` | Create new tag |
| `update` | Update tag |
| `delete` | Delete tag |

**Examples:**

```bash
# List tags
n8n tags list

# Create tag
n8n tags create --name "production"

# Update tag
n8n tags update tag123 --name "prod"

# Delete tag
n8n tags delete tag123 --force
```

> **ğŸ’¡ Tip:** Use `workflows tags` command to assign tags to workflows.

---

### `templates`

Search and manage workflow templates from n8n.io.

#### Command Overview

| Command | Description | Source |
|---------|-------------|--------|
| `search` | Search templates | API or local |
| `get` | Get template details | API |
| `list-tasks` | List task categories | Local |

---

#### `templates search`

Search templates with multiple modes.

**Usage:**

```bash
n8n templates search [query] [options]
```

**Options:**

| Option | Description | Default |
|--------|-------------|---------|
| `--by-nodes <nodes>` | Search by nodes used (local) | â€” |
| `--by-task <task>` | Search by task category (local) | â€” |
| `--local` | Force local search | â€” |
| `--category <name>` | Filter by category | â€” |
| `--limit <n>` | Limit results | `20` |
| `--json` | Output as JSON | â€” |

**Search Modes:**

| Mode | Source | Use Case |
|------|--------|----------|
| Keyword | API | General discovery |
| By Nodes | Local | Find templates using specific nodes |
| By Task | Local | Find templates by purpose |

**Task Categories:**

- `ai_automation` â€” AI/ML workflows
- `data_sync` â€” Data synchronization
- `webhook_processing` â€” Webhook handlers
- `api_integration` â€” API connections
- `social_media` â€” Social media automation
- `notifications` â€” Alert/notification workflows
- `file_processing` â€” File operations
- `scheduling` â€” Scheduled tasks
- `reporting` â€” Report generation
- `crm_integration` â€” CRM workflows

**Examples:**

```bash
# Keyword search (API)
n8n templates search "chatbot"

# Search by nodes (local, offline)
n8n templates search --by-nodes openAi,slack

# Search by task category
n8n templates search --by-task ai_automation

# Combined filters
n8n templates search "sales" --category "Sales"
```

---

#### `templates get`

Get detailed template information.

**Usage:**

```bash
n8n templates get <templateId> [options]
```

**Examples:**

```bash
n8n templates get 3121
n8n templates get 3121 --json
n8n templates get 3121 --save template.json
```

---

#### `templates list-tasks`

List available task categories for `--by-task` search.

**Usage:**

```bash
n8n templates list-tasks [options]
```

---

### `audit`

Generate security and configuration audit reports.

**Usage:**

```bash
n8n audit [options]
```

**Options:**

| Option | Description | Default |
|--------|-------------|---------|
| `--categories <list>` | Filter categories | all |
| `--min-risk <level>` | Minimum risk level | â€” |
| `--save <path>` | Save report to file | â€” |
| `--json` | Output as JSON | â€” |

**Audit Categories:**

| Category | Description |
|----------|-------------|
| `credentials` | Credential security analysis |
| `database` | Database configuration |
| `filesystem` | File system security |
| `nodes` | Node risk assessment |
| `instance` | Instance settings |

**Examples:**

```bash
# Full audit
n8n audit

# Specific categories
n8n audit --categories credentials,nodes

# JSON output for CI/CD
n8n audit --json | jq '.sections[] | select(.risk == "high")'
```

---

### `auth`

Manage CLI authentication configuration.

---

#### `auth login`

Configure connection to n8n instance.

**Usage:**

```bash
n8n auth login [options]
```

**Options:**

| Option | Description | Default |
|--------|-------------|---------|
| `--host <url>` | n8n instance URL | â€” |
| `--api-key <key>` | API key | â€” |
| `--interactive` | Interactive setup mode | â€” |

**Examples:**

```bash
# Interactive mode (recommended)
n8n auth login --interactive

# Direct configuration
n8n auth login --host https://n8n.example.com --api-key xxx
```

---

#### `auth status`

Check current authentication status. Alias: `whoami`.

**Usage:**

```bash
n8n auth status
n8n auth whoami
```

---

#### `auth logout`

Clear stored authentication.

**Usage:**

```bash
n8n auth logout
```

---

### `health`

Check connectivity to n8n instance.

**Usage:**

```bash
n8n health [options]
```

**Options:**

| Option | Description | Default |
|--------|-------------|---------|
| `--json` | Output as JSON | â€” |

**Checks Performed:**
- Connection to host
- API authentication
- API version
- Response latency

**Examples:**

```bash
n8n health
# âœ“ Connected to https://n8n.example.com
# âœ“ API version: 1.0
# âœ“ Latency: 45ms
```

---

### `config`

View CLI configuration.

#### `config show`

Display current configuration.

**Usage:**

```bash
n8n config show [options]
```

**Options:**

| Option | Description | Default |
|--------|-------------|---------|
| `--json` | Output as JSON | â€” |

---

### `completion`

Generate shell completion scripts.

**Usage:**

```bash
n8n completion <shell>
```

**Supported Shells:** `bash`, `zsh`, `fish`

**Installation:**

```bash
# Bash
n8n completion bash >> ~/.bashrc

# Zsh
n8n completion zsh >> ~/.zshrc

# Fish
n8n completion fish > ~/.config/fish/completions/n8n.fish
```

---

### `validate` (legacy)

Legacy validation command. Use `workflows validate` for full features.

**Usage:**

```bash
n8n validate <file> [options]
```

**Options:**

| Option | Description |
|--------|-------------|
| `--repair` | Attempt JSON repair |
| `--fix` | Auto-fix issues |
| `--save <path>` | Save fixed output |
| `--json` | Output as JSON |

**JSON Repair Fixes:**
- Trailing commas
- Unquoted property keys
- Single quotes â†’ double quotes
- JavaScript objects â†’ JSON
- Missing commas

**Examples:**

```bash
n8n validate workflow.json --repair --fix --save fixed.json
```

> **ğŸ’¡ Tip:** Use `workflows validate` for validation profiles and AI node validation.

---

## AI Agent Integration

This section provides guidance for AI agents integrating with n8n-cli.

### Recommended Workflow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          AGENT WORKFLOW                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  1. Agent receives user request for n8n workflow                        â”‚
â”‚                            â”‚                                            â”‚
â”‚                            â–¼                                            â”‚
â”‚  2. Search nodes: n8n nodes search "keyword" --json                     â”‚
â”‚                            â”‚                                            â”‚
â”‚                            â–¼                                            â”‚
â”‚  3. Get schemas: n8n nodes show <type> --detail minimal --json          â”‚
â”‚                            â”‚                                            â”‚
â”‚                            â–¼                                            â”‚
â”‚  4. Generate workflow JSON and write to file                            â”‚
â”‚                            â”‚                                            â”‚
â”‚                            â–¼                                            â”‚
â”‚  5. Validate: n8n workflows validate workflow.json --json               â”‚
â”‚                            â”‚                                            â”‚
â”‚                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚                 â–¼                   â–¼                                   â”‚
â”‚            [Valid]             [Errors]                                 â”‚
â”‚                â”‚                   â”‚                                    â”‚
â”‚                â”‚                   â–¼                                    â”‚
â”‚                â”‚    6. Parse errors, fix issues, goto step 5            â”‚
â”‚                â”‚                                                        â”‚
â”‚                â–¼                                                        â”‚
â”‚  7. Deploy: n8n workflows import workflow.json --json                   â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Advantages of File-Based Workflow

| Challenge | CLI Solution |
|-----------|--------------|
| Token limits on large JSON | Write to file, validate locally |
| API rate limits | Offline validation and node lookup |
| Hallucinated schemas | `correctUsage` in error responses |
| Debugging complex workflows | Local iteration without network |
| Version control | Local files, git-friendly |

### JSON Output Guarantees

All commands with `--json` return consistent structure:

**Success Response:**
```json
{
  "success": true,
  "data": { ... }
}
```

**Error Response:**
```json
{
  "success": false,
  "error": {
    "code": "ERROR_CODE",
    "message": "Human-readable message",
    "details": { ... }
  }
}
```

**Validation Response:**
```json
{
  "valid": false,
  "errors": [{
    "code": "ERROR_CODE",
    "nodeName": "Node Name",
    "path": "nodes[0].parameters.field",
    "context": { ... },
    "hint": "How to fix",
    "autoFixable": true
  }],
  "warnings": [],
  "stats": { "nodeCount": 5 }
}
```

### Token Optimization Strategies

1. **Use `--detail minimal`** for node lookups (~200 tokens vs ~3-8K)
2. **Validate before full schema lookup** â€” only fetch full schema if needed
3. **Batch operations** â€” validate once after all edits
4. **Use `--mode` filters** â€” `--mode minimal` for status checks

### MCP Integration

For richer AI integration, see the companion [n8n-mcp](https://github.com/yigitkonur/n8n-mcp) project which provides Model Context Protocol (MCP) tools for n8n workflow development.

---

## Scripting & Automation

### Exit Codes Reference

| Code | Name | Description |
|------|------|-------------|
| `0` | `SUCCESS` | Command completed successfully |
| `1` | `GENERAL_ERROR` | General/unknown error |
| `64` | `USAGE_ERROR` | Invalid command usage |
| `65` | `DATA_ERROR` | Input data invalid (validation failed) |
| `66` | `NOINPUT` | Input file not found |
| `70` | `SOFTWARE_ERROR` | Internal error |
| `73` | `NETWORK_ERROR` | Network/API error |
| `78` | `CONFIG_ERROR` | Configuration error |

### Bash Scripting Examples

```bash
#!/bin/bash
# Validate and deploy workflow

n8n workflows validate workflow.json --json > result.json
EXIT_CODE=$?

case $EXIT_CODE in
  0)
    echo "Valid! Deploying..."
    n8n workflows import workflow.json --activate
    ;;
  65)
    echo "Validation failed:"
    cat result.json | jq '.errors'
    ;;
  73)
    echo "Network error - check connection"
    ;;
  *)
    echo "Error: exit code $EXIT_CODE"
    ;;
esac
```

### jq Recipes

```bash
# Count workflows
n8n workflows list --json | jq '.data | length'

# Get active workflow IDs
n8n workflows list --active --limit 0 --json | jq -r '.data[].id'

# Extract validation errors
n8n workflows validate wf.json --json | jq '.errors[] | "\(.nodeName): \(.code)"'

# Find nodes by type
n8n workflows get abc --json | jq '.nodes[] | select(.type | contains("slack"))'
```

---

## CI/CD Integration

### GitHub Actions

```yaml
name: Validate Workflows
on: [push, pull_request]

jobs:
  validate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'
      
      - name: Install n8n-cli
        run: npm install -g n8n-cli
      
      - name: Validate Workflows
        run: |
          for f in workflows/*.json; do
            n8n workflows validate "$f" --profile strict
          done
```

### GitLab CI

```yaml
validate-workflows:
  image: node:20
  script:
    - npm install -g n8n-cli
    - |
      for f in workflows/*.json; do
        n8n workflows validate "$f" --profile strict
      done
```

---

## Cheat Sheet

### Authentication
```bash
n8n auth login --interactive     # Interactive setup
n8n auth status                  # Check auth
n8n health                       # Test connection
```

### Workflows
```bash
n8n workflows list               # List all
n8n workflows list --active      # Active only
n8n workflows get <id>           # Get one
n8n workflows export <id> -o f.json  # Export
n8n workflows validate f.json    # Validate
n8n workflows validate f.json --fix --save fixed.json  # Fix
n8n workflows import f.json      # Deploy
n8n workflows autofix f.json --apply  # Auto-fix
n8n workflows deploy-template 3121    # Deploy template
```

### Nodes
```bash
n8n nodes search "slack"         # Search
n8n nodes show slack --detail minimal  # Quick lookup
n8n nodes show slack --schema    # Full schema
n8n nodes categories             # List categories
```

### Credentials
```bash
n8n credentials list             # List all
n8n credentials types            # Available types
n8n credentials create -t type -n name -d @creds.json
```

### Executions
```bash
n8n executions list              # Recent
n8n executions list --status error  # Failed only
n8n executions get <id>          # Details
n8n executions retry <id>        # Retry
```

### Templates
```bash
n8n templates search "keyword"   # Search
n8n templates search --by-task ai_automation  # By task
n8n templates get 3121           # Get details
```

---

## Troubleshooting

### Common Errors

| Error | Cause | Solution |
|-------|-------|----------|
| `Missing N8N_HOST` | Host not configured | Set env var or config file |
| `Missing N8N_API_KEY` | API key not configured | Get from n8n Settings â†’ API |
| `401 Unauthorized` | Invalid API key | Regenerate key |
| `Connection refused` | Wrong host/port | Check URL |
| `ENOTFOUND` | DNS resolution failed | Check hostname |
| `ETIMEDOUT` | Connection timeout | Check firewall/proxy |
| `Certificate error` | TLS issue | Check SSL cert |

### Connection Issues

```bash
# Test connectivity
curl -I https://your-n8n.com/api/v1/workflows

# Check with verbose
N8N_DEBUG=true n8n health

# Use custom timeout
N8N_TIMEOUT=60000 n8n workflows list
```

---

## FAQ

**Q: Does this CLI work offline?**
A: Node lookup, validation, and autofix work offline. API operations (list, create, deploy) require n8n connection.

**Q: Where are workflows validated?**
A: Locally against bundled schemas. No data sent to n8n until deployment.

**Q: How do I use multiple n8n instances?**
A: Use profiles in `.n8nrc.json` and `--profile` flag or `N8N_PROFILE` env var.

**Q: Is my API key secure?**
A: Use `chmod 600` on config files, prefer env vars in CI/CD.

**Q: Why do expressions need `=` prefix?**
A: n8n requires `={{ }}` not `{{ }}` for expression evaluation.

---

## Exit Codes

| Code | Meaning |
|------|---------|
| 0 | Success |
| 1 | General error |
| 64 | Usage error |
| 65 | Data/validation error |
| 66 | Input not found |
| 70 | Software error |
| 73 | Network error |
| 78 | Config error |

---

## Development

```bash
# Clone repository
git clone https://github.com/yigitkonur/n8n-cli.git
cd n8n-cli

# Install dependencies
npm install

# Build
npm run build

# Run locally
node dist/cli.js --help

# Type check
npm run typecheck

# Run tests
npm test
```

### Project Structure

```
src/
â”œâ”€â”€ cli.ts              # Entry point, command registration
â”œâ”€â”€ commands/           # Command handlers
â”‚   â”œâ”€â”€ workflows/      # Workflow commands
â”‚   â”œâ”€â”€ nodes/          # Node commands
â”‚   â”œâ”€â”€ credentials/    # Credential commands
â”‚   â””â”€â”€ ...
â”œâ”€â”€ core/               # Core logic
â”‚   â”œâ”€â”€ api/            # API client
â”‚   â”œâ”€â”€ validation/     # Validators
â”‚   â”œâ”€â”€ autofix/        # Autofix engine
â”‚   â”œâ”€â”€ versioning/     # Version management
â”‚   â””â”€â”€ db/             # SQLite adapter
â”œâ”€â”€ types/              # TypeScript types
â””â”€â”€ utils/              # Utilities
```

---

## See Also

- [cli-commands-reference.md](./cli-commands-reference.md) â€” Complete command reference
- [.n8nrc.example](./.n8nrc.example) â€” Example configuration file
- [n8n-mcp](https://github.com/yigitkonur/n8n-mcp) â€” MCP server for AI agents

---

## License

MIT License

Copyright (c) 2024 Yigit Konur

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.